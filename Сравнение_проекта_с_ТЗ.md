# Сравнение проекта LabPro с ТЗ

**Дата анализа:** 08.02.2026
**Версия ТЗ:** 2.0
**Статус:** Фазы 1-10 завершены, тестирование + исправления

---

## 1. Страницы приложения (38 маршрутов)

| Страница | Раздел ТЗ | Статус |
|----------|-----------|--------|
| Dashboard | 15.1 | 100% |
| Культуры (список) | 15.2 | 100% |
| Культура (карточка) | 15.2 | 100% |
| Создание культуры | 15.2 | 100% |
| Culture Passport | 11 | 100% |
| Лот (карточка) | 15.3 | 100% |
| Контейнер (карточка) | 15.4 | 100% |
| Банки (список) | 15.7 | 100% |
| Банк (карточка) | 15.7 | 100% |
| Доноры (список + карточка) | 15.8 | 100% |
| Создание донации | 15.8 | 100% |
| Инвентарь | 15.9 | 100% |
| Готовые среды | 15.9 | 100% |
| Оборудование | 15.11 | 100% |
| Заявки | 15.10 | 100% |
| **Операции:** | | |
| Observe | 7.1 | 100% |
| Feed | 7.2 | 100% |
| Passage | 7.3 | 100% |
| Freeze | 7.4 | 100% |
| Thaw | 7.5 | 100% |
| Dispose | 7.6 | 100% |
| QC тесты | 10 | 100% |
| Worksheet | 11 | 100% |
| Задачи | 13.2 | 100% |
| QR сканирование | 12 | 100% |
| Аудит | — | 100% |
| Уведомления | 13.3 | 100% |
| Документы | 11 | 100% |
| Пользователи | 18 | 90% |

---

## 2. API функции (api.ts ~2900 строк)

| Категория | Реализовано | Статус |
|-----------|-------------|--------|
| Cultures CRUD | 5/5 | 100% |
| Lots CRUD | 4/4 | 100% |
| Containers CRUD | 5/5 | 100% |
| Banks CRUD | 5/5 | 100% |
| Operations (6 типов) | 7/7 | 100% |
| Inventory/Batches | 5/5 | 100% |
| Ready Media | 4/4 | 100% |
| Orders | 5/5 | 100% |
| QC Tests | 5/5 | 100% |
| Equipment | 4/4 | 100% |
| Tasks | 3/3 | 100% |
| Notifications | 2/2 | 100% |
| Donors/Donations | 6/6 | 100% |
| Auto-tasks | 4/4 | 100% |

---

## 3. Бизнес-логика

| Функция | Раздел ТЗ | Статус |
|---------|-----------|--------|
| FEFO-контроль | 8 | Реализован в формах Feed/Passage |
| Авто-задачи после операций | 13.2 | Реализовано (INSPECT, FEED, QC_DUE) |
| Авто-закрытие лотов | 7.6 | Реализовано |
| Каскад статусов донации | 5 | Реализовано |
| P0 для первичной культуры | 6 | Реализовано |
| Множественный выбор контейнеров (SEED) | 7.0, 15.5b | Реализовано |
| Показ доступности на складе при выборе контейнеров | 7.0, 15.5b | Реализовано |
| Редирект операций на карточку культуры/лота | 7 | Реализовано |
| Блокировка действий для DISPOSE-контейнеров | 5.3, 7.6 | Реализовано |
| Fallback типов клеток (все типы если нет связи) | 7.0 | Реализовано |
| Исправление поля container_status (вместо status) | — | Исправлено |

---

## 4. Не реализовано / Backlog

| Функция | Причина |
|---------|---------|
| QR-генерация и печать этикеток | Backlog |
| Графики в Passport (Chart.js) | Backlog |
| Полный RBAC в RLS | Базовый authenticated, без ролей |
| Real-time подписки | Backlog |
| Офлайн-режим | Backlog |

---

## 5. Заключение

**Общий процент соответствия ТЗ:** ~95%

Все формы операций, карточки сущностей, бизнес-логика, документы и QR-сканер реализованы. Осталось тестирование E2E на Supabase и minor backlog.

---

*Обновлено: 08.02.2026*
